(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"apiEndpoint":"http://localhost:8080/api","isFireBase":false,"api_key":"e7b8f7ef83c1461f83562940221201","api_url":"https://api.weatherapi.com/v1/","dadata_api_key":"b861cd7f6b317de847ac1573b342595f827734af","dadata_secret_key":"275594106f9ebee68ec26202a024399d6c71edfa"}')},86:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(22),s=n.n(c),i=n(9),o=(n(54),n(55),n(20)),l=n(4),u=n(8);function d(e,t){var n={};function r(e,t,n){var r;switch(e){case"isRequired":r="boolean"===typeof t?!t:""===t.trim();break;case"isEmail":r=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalSymbol":r=!/[A-Z]+/g.test(t);break;case"isContainDigit":r=!/\d+/g.test(t);break;case"min":r=t.length<n.value}if(r)return n.message}for(var a in e)for(var c in t[a]){var s=r(c,e[a],t[a][c]);s&&!n[a]&&(n[a]=s)}return n}var j=n(0),b=function(e){var t=e.label,n=e.type,a=e.name,c=e.value,s=e.onChange,i=e.error,o=Object(r.useState)(!1),l=Object(u.a)(o,2),d=l[0],b=l[1];return Object(j.jsxs)("div",{className:"mb-4",children:[Object(j.jsx)("label",{htmlFor:a,children:t}),Object(j.jsxs)("div",{className:"input-group has-validation",children:[Object(j.jsx)("input",{type:d?"text":n,id:a,name:a,value:c,onChange:function(e){var t=e.target;s({name:t.name,value:t.value})},className:"form-control"+(i?" is-invalid":"")}),"password"===n&&Object(j.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){b((function(e){return!e}))},children:Object(j.jsx)("i",{className:"las la-eye"+(d?"-slash":"")})}),i&&Object(j.jsx)("div",{className:"invalid-feedback",children:i})]})]})};b.defaultProps={type:"text"};var f=b,m=function(){var e=Object(i.g)();return Object(j.jsxs)("button",{className:"btn btn-primary",onClick:function(){return e.goBack()},children:[Object(j.jsx)("i",{className:"bi bi-caret-left"}),"\u041d\u0430\u0437\u0430\u0434"]})},h=n(2),x=n(6),O=n(3),p=n.n(O),v=n(17),g=n(24),y=n.n(g),w=n(19),N="jwt-token",k="jwt-refresh-token",S="jwt-expires",_="user-local-id",I="history";function L(){return localStorage.getItem(I)}var R={setTokens:function(e){var t=e.refreshToken,n=e.accessToken,r=e.userId,a=e.expiresIn,c=void 0===a?3600:a,s=(new Date).getTime()+1e3*c;localStorage.setItem(_,r),localStorage.setItem(N,n),localStorage.setItem(k,t),localStorage.setItem(S,s)},getAccessToken:function(){return localStorage.getItem(N)},getRefreshToken:function(){return localStorage.getItem(k)},getTokenExpiresDate:function(){return localStorage.getItem(S)},getUserId:function(){return localStorage.getItem(_)},removeAuthData:function(){localStorage.removeItem(_),localStorage.removeItem(N),localStorage.removeItem(k),localStorage.removeItem(S)},setCityToHistory:function(e){var t=new Array,n=L();if(Object(w.isNull)(n))t.push(e);else{var r=n.split(",");r.length>6&&r.shift(),t.push(r),r.includes(e)||t.push(e)}localStorage.setItem(I,t)},getCitiesInHistory:L},C=n(16),E=y.a.create({baseURL:C.apiEndpoint+"/auth/",params:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY}}),q={register:function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("signUp",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,E.post("signInWithPassword",{email:n,password:r,returnSecureToken:!0});case 3:return a=e.sent,c=a.data,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(x.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.post("token",{grant_type:"refresh_token",refresh_token:R.getRefreshToken()});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},T=q,F=n(27),A=y.a.create({baseURL:C.apiEndpoint});A.interceptors.request.use(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r,a,c,s,i,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=R.getTokenExpiresDate(),r=R.getRefreshToken(),a=r&&n<Date.now(),!C.isFireBase){e.next=15;break}if(c=/\/$/gi.test(t.url),t.url=(c?t.url.slice(0,-1):t.url)+".json",!a){e.next=11;break}return e.next=9,T.refresh();case 9:s=e.sent,R.setTokens({refreshToken:s.refresh_token,idToken:s.id_token,expiresIn:s.expires_in,localId:s.user_id});case 11:(i=R.getAccessToken())&&(t.params=Object(l.a)(Object(l.a)({},t.params),{},{auth:i})),e.next=22;break;case 15:if(!a){e.next=20;break}return e.next=18,T.refresh();case 18:o=e.sent,R.setTokens(o);case 20:(u=R.getAccessToken())&&(t.headers=Object(l.a)(Object(l.a)({},t.headers),{},{Authorization:"Bearer ".concat(u)}));case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return console.log(e),Promise.reject(e)})),A.interceptors.response.use((function(e){var t;return C.isFireBase&&(e.data={content:(t=e.data,t&&!t._id?Object.keys(t).map((function(e){return Object(l.a)({},t[e])})):t)}),e.data={content:e.data},e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),F.b.error("Somthing was wrong. Try it later")),Promise.reject(e)}));var D={get:A.get,post:A.post,put:A.put,delete:A.delete,patch:A.patch},M="user/",W={get:function(){var e=Object(x.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get(M);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.put(M+t._id,t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.patch(M+R.getUserId(),t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(x.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get(M+R.getUserId());case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},P=W;function U(e){switch(e){case"INVALID_PASSWORD":return"Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e";case"EMAIL_EXISTS":return"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442";default:return"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435"}}var B=n(13),z=Object(B.a)(),H=R.getAccessToken()?{entities:null,isLoading:!0,error:null,auth:{userId:R.getUserId()},isLoggedIn:!0,dataLoaded:!1}:{entities:null,isLoading:!1,error:null,auth:null,isLoggedIn:!1,dataLoaded:!1},K=Object(v.c)({name:"users",initialState:H,reducers:{usersRequested:function(e){e.isLoading=!0},usersReceved:function(e,t){e.entities=t.payload,e.dataLoaded=!0,e.isLoading=!1},usersRequestFiled:function(e,t){e.error=t.payload,e.isLoading=!1},authRequestSuccess:function(e,t){e.auth=t.payload,e.isLoggedIn=!0},authRequestFailed:function(e,t){e.error=t.payload},userCreated:function(e,t){e.entities.push(t.payload)},userLoggedOut:function(e){e.entities=null,e.isLoggedIn=!1,e.auth=null,e.dataLoaded=!1},userUpdateSuccessed:function(e,t){e.entities[e.entities.findIndex((function(e){return e._id===t.payload._id}))]=t.payload},authRequested:function(e){e.error=null}}}),J=K.reducer,V=K.actions,$=V.usersRequested,G=V.usersReceved,Q=V.usersRequestFiled,X=V.authRequestFailed,Y=V.authRequestSuccess,Z=V.userLoggedOut,ee=V.userUpdateSuccessed,te=Object(v.b)("users/authRequested"),ne=Object(v.b)("users/userUpdateFailed"),re=Object(v.b)("users/userUpdateRequested"),ae=function(){return function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($()),e.prev=1,e.next=4,P.get();case 4:n=e.sent,r=n.content,t(G(r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Q(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(x.a)(p.a.mark((function t(n){var r,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(re()),t.prev=1,t.next=4,P.update(e);case 4:r=t.sent,a=r.content,n(ee(a)),z.push("/"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n(ne(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},se=J,ie=function(){var e=Object(r.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),s=Object(u.a)(c,2),i=s[0],b=s[1],x=Object(h.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null})),O=Object(h.b)(),p=Object(r.useState)({}),v=Object(u.a)(p,2),g=v[0],y=v[1];Object(r.useEffect)((function(){x&&!i&&b(Object(l.a)({},x))}),[x,i]),Object(r.useEffect)((function(){i&&n&&a(!1)}),[i]);var w={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}},name:{isRequired:{message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"}}};Object(r.useEffect)((function(){return k()}),[i]);var N=function(e){b((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.name,e.value))}))},k=function(){var e=d(i,w);return y(e),0===Object.keys(e).length},S=0===Object.keys(g).length;return Object(j.jsxs)("div",{className:"container mt-5",children:[Object(j.jsx)(m,{}),Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-6 offset-md-3 shadow p-4",children:i&&Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k()&&O(ce({name:e.target.name.value,email:e.target.email.value}))},children:[Object(j.jsx)(f,{label:"\u0418\u043c\u044f",name:"name",value:i.name,onChange:N,error:g.name}),Object(j.jsx)(f,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:i.email,onChange:N,error:g.email}),Object(j.jsx)("button",{type:"submit",disabled:!S,className:"btn btn-primary w-100 mx-auto",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})})]})},oe=function(e){var t=e.user,n=Object(i.g)();Object(h.c)((function(e){return e.users.auth.userId}));return Object(j.jsx)("div",{className:"card mb-3",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("button",{className:"position-absolute top-0 end-0 btn btn-light btn-sm",onClick:function(){n.push(n.location.pathname+"/edit")},children:Object(j.jsx)("i",{className:"la la-gear",style:{fontSize:"24px"}})}),Object(j.jsxs)("div",{className:"d-flex  align-items-center text-center position-relative",children:[Object(j.jsx)("img",{src:t.image,className:"rounded-circle",width:"150"}),Object(j.jsxs)("div",{className:"mt-3",children:[Object(j.jsx)("h4",{children:t.name}),Object(j.jsx)("p",{className:"text-secondary mb-1"})]})]})]})})},le=function(e){var t=e.userId,n=Object(h.c)(function(e){return function(t){if(t.users.entities)return t.users.entities.find((function(t){return t._id===e}))}}(t));return n?Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row gutters-sm",children:Object(j.jsx)("div",{className:"col-6 offset-3 my-3",children:Object(j.jsx)(oe,{user:n})})})}):Object(j.jsx)("h1",{children:"Loading"})};n(21);var ue=n(25);n(36),function(){var e=Object(x.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("quality/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))}();var de=function(e){return Date.now()-e>6e5},je=Object(v.c)({name:"qualities",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{qualitiesRequested:function(e){e.isLoading=!0},qualitiesReceived:function(e,t){e.entities=t.payload,e.lastFetch=Date.now(),e.isLoading=!1},qualitiesRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1}}}),be=(je.reducer,je.actions),fe=(be.qualitiesRequested,be.qualitiesReceived,be.qualitiesRequestFailed,n(7)),me=function(){var e=Object(h.c)((function(e){return e.users.entities})),t=(Object(h.c)((function(e){return e.users.auth.userId})),Object(r.useState)(1)),n=Object(u.a)(t,2),a=(n[0],n[1]),c=Object(r.useState)(""),s=Object(u.a)(c,2),i=s[0],o=(s[1],Object(r.useState)()),l=Object(u.a)(o,2),d=l[0],b=(l[1],Object(r.useState)({path:"name",order:"asc"})),f=Object(u.a)(b,2);f[0],f[1];Object(r.useEffect)((function(){a(1)}),[d,i]);return e?Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)("div",{className:"d-flex flex-column"})}):"Loading..."},he=n(10),xe=n.n(he),Oe=function(e){var t=e.children,n=Object(h.c)((function(e){return e.users.dataLoaded})),a=Object(h.b)();return Object(r.useEffect)((function(){n||a(ae())}),[]),n?t:"Loading"};Oe.propTypes={children:xe.a.oneOfType([xe.a.arrayOf(xe.a.node),xe.a.node])};var pe=Oe,ve=function(){var e=Object(i.h)(),t=e.userId,n=e.edit,r=Object(h.c)((function(e){return e.users.auth.userId}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(pe,{children:t?n?t===r?Object(j.jsx)(ie,{}):Object(j.jsx)(i.a,{to:"/users/".concat(r,"/edit")}):Object(j.jsx)(le,{userId:t}):Object(j.jsx)(me,{})})})},ge=function(){var e=Object(r.useState)({email:"",password:"",stayOn:!1}),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(h.c)((function(e){return e.users.error})),s=Object(i.g)(),b=Object(h.b)(),m=Object(r.useState)({}),O=Object(u.a)(m,2),v=O[0],g=O[1],y=function(e){a((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.name,e.value))}))},w={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}};Object(r.useEffect)((function(){N()}),[n]);var N=function(){var e=d(n,w);return g(e),0===Object.keys(e).length},k=0===Object.keys(v).length;return Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),N()){var t=s.location.state?s.location.state.from.pathname:"/";b(function(e){var t=e.payload,n=e.redirect;return function(){var e=Object(x.a)(p.a.mark((function e(r){var a,c,s,i,o,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,r(te()),e.prev=2,e.next=5,T.login({email:a,password:c});case 5:s=e.sent,R.setTokens(s),r(Y({userId:s.userId})),z.push(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),i=e.t0.response.data.error,o=i.code,l=i.message,400===o?(u=U(l),r(X(u))):r(X(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}({payload:n,redirect:t}))}},children:[Object(j.jsx)(f,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:n.email,onChange:y,error:v.email}),Object(j.jsx)(f,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:n.password,onChange:y,error:v.password}),c&&Object(j.jsx)("p",{className:"text-danger",children:c}),Object(j.jsx)("button",{className:"btn btn-primary w-100 mx-auto",type:"submit",disabled:!k,children:"\u0412\u043e\u0439\u0442\u0438"})]})},ye=function(){var e=Object(h.b)(),t=Object(r.useState)({email:"",password:"",name:"",qualities:[]}),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({}),i=Object(u.a)(s,2),b=i[0],m=i[1],O=function(e){c((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(o.a)({},e.name,e.value))}))},v={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isEmail:{message:"Email \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"}},name:{isRequired:{message:"\u0418\u043c\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},min:{message:"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 3 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:3}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"},isCapitalSymbol:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443"},isContainDigit:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u0447\u0438\u0441\u043b\u043e"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u0438\u0437 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:8}}};Object(r.useEffect)((function(){g()}),[a]);var g=function(){var e=d(a,v);return m(e),0===Object.keys(e).length},y=0===Object.keys(b).length;return Object(j.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),g()){var n,r=Object(l.a)(Object(l.a)({},a),{},{qualities:a.qualities.map((function(e){return e.value}))});e((n=r,function(){var e=Object(x.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(te()),e.prev=1,e.next=4,T.register(n);case 4:r=e.sent,R.setTokens(r),t(Y({userId:r.userId})),z.push("/"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(X(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()))}},children:[Object(j.jsx)(f,{label:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",name:"email",value:a.email,onChange:O,error:b.email}),Object(j.jsx)(f,{label:"\u0418\u043c\u044f",name:"name",value:a.name,onChange:O,error:b.name}),Object(j.jsx)(f,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:a.password,onChange:O,error:b.password}),Object(j.jsx)("button",{className:"btn btn-primary w-100 mx-auto",type:"submit",disabled:!y,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},we=function(){var e=Object(i.h)().type,t=Object(r.useState)("register"===e?e:"login"),n=Object(u.a)(t,2),a=n[0],c=n[1],s=function(e){c((function(e){return"register"===e?"login":"register"}))};return Object(j.jsx)("div",{className:"container mt-5",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col-md-6 offset-md-3 shadow p-4",children:"register"===a?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"mb-4",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(ye,{}),Object(j.jsxs)("p",{className:"mt-3",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"," ",Object(j.jsxs)("a",{role:"button",onClick:s,children:[" ",Object(j.jsx)("u",{children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{className:"mb-4",children:"Login"}),Object(j.jsx)(ge,{}),Object(j.jsxs)("p",{className:"mt-3",children:["\u0412\u043f\u0435\u0440\u0432\u044b\u0435 \u0443 \u043d\u0430\u0441?"," ",Object(j.jsxs)("a",{role:"button",onClick:s,children:[" ",Object(j.jsx)("u",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})]})})})})},Ne="forecast.json",ke=decodeURI(document.location.pathname).substring(1).split("/")[0],Se=y.a.create({baseURL:C.api_url}),_e={getAll:function(){var e=Object(x.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.get(Ne,{params:{key:C.api_key,q:""===ke||"favorites"===ke?"\u041c\u043e\u0441\u043a\u0432\u0430":ke,aqi:"no",alerts:"no",lang:"ru",days:3}});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCity:function(){var e=Object(x.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.get(Ne,{params:{key:C.api_key,q:t,aqi:"no",alerts:"no",lang:"ru",days:3}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ie=_e,Le=Object(v.c)({name:"weather",initialState:{entities:null,isLoading:!0,error:null,lastFetch:null},reducers:{weatherRequested:function(e){e.isLoading=!0},weatherReceived:function(e,t){e.entities=t.payload,e.isLoading=!1},weatherRequestFailed:function(e,t){e.error=t.payload,e.isLoading=!1}}}),Re=Le.reducer,Ce=Le.actions,Ee=Ce.weatherRequested,qe=Ce.weatherReceived,Te=Ce.weatherRequestFailed,Fe=function(e){return function(){var t=Object(x.a)(p.a.mark((function t(n,r){var a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r().weather.lastFetch,!de(a)){t.next=13;break}return n(Ee()),t.prev=3,t.next=6,Ie.getCity(e);case 6:c=t.sent,n(qe(c)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(Te(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()},Ae=Re,De=n(26),Me=function(e){var t=e.city,n=e.date,a=Object(h.c)((function(e){return e.users.isLoggedIn})),c=Object(h.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null})),s=Object(h.b)(),i=Object(r.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],b=Object(r.useState)(!1),f=Object(u.a)(b,2);f[0],f[1];Object(r.useEffect)((function(){if(c){var e=c.favorites.some((function(e){return e===t}));d(e)}}),[t,c]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsxs)("div",{className:"d-flex flex-row align-items-center text-yellow mb-2",children:[Object(j.jsx)("h2",{className:"mr-3 mr-auto p-2",children:t}),a&&Object(j.jsxs)("div",{onClick:function(){return function(e){d((function(e){return!e})),s(ce({favorites:e}))}(t)},children:[Object(j.jsx)("img",{src:l?"https://img.icons8.com/fluency/48/000000/star.png":"https://img.icons8.com/color/48/000000/star--v1.png",height:"30px",width:"30px","data-toggle":"tooltip","data-placement":"right",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",style:{cursor:"pointer"}}),Object(j.jsx)("sub",{className:"p-2",children:l?"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})]})]})}),Object(j.jsx)("p",{children:Object(De.a)(n,"dd.mm.yyyy")})]})},We=function(){return Object(j.jsx)("nav",{children:Object(j.jsxs)("div",{className:"nav nav-tabs flex-row justify-content-evenly",id:"nav-tab",role:"tablist",children:[Object(j.jsx)("button",{className:"nav-link active",id:"nav-today-tab","data-bs-toggle":"tab","data-bs-target":"#today",type:"button",role:"tab","aria-controls":"today","aria-selected":"true",children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),Object(j.jsx)("button",{className:"nav-link",id:"nav-tomorrow-tab","data-bs-toggle":"tab","data-bs-target":"#tomorrow",type:"button",role:"tab","aria-controls":"tomorrow","aria-selected":"false",children:"\u0417\u0430\u0432\u0442\u0440\u0430"}),Object(j.jsx)("button",{className:"nav-link",id:"nav-forcast-tab","data-bs-toggle":"tab","data-bs-target":"#forcast",type:"button",role:"tab","aria-controls":"forcast","aria-selected":"false",children:"3 \u0434\u043d\u044f"})]})})},Pe=a.a.createContext(),Ue=function(){return Object(r.useContext)(Pe)},Be=function(e){var t,n,r=e.children,a=null===(t=Object(h.c)((function(e){return e.weather.entities})))||void 0===t||null===(n=t.location)||void 0===n?void 0:n.name;return Object(j.jsx)(Pe.Provider,{value:{city:a},children:r})},ze=function(e){var t=e.day,n=["3","9","15","21"],r=Date.now(),a=t.date===Object(De.a)(r,"yyyy-mm-dd")?"today":"tomorrow",c=t.hour,s=Ue().city;return Object(j.jsxs)("div",{className:"col-8 border-start",children:[Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:e<10?"0".concat(e):e}),Object(j.jsx)("sup",{children:"00"})]},e)}))}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:"".concat(c[e].condition.icon),alt:"".concat(c[e].condition.text),srcSet:""})},e)}))}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:[c[e].temp_c>0?"+":"",c[e].temp_c,"\u2103"]})},e)}))}),Object(j.jsx)("h5",{className:"text-center mt-2",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430, \u043c/\u0441"}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:Math.round(c[e].wind_kph/3.6)})},e)}))}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{style:{transform:"rotate(".concat(c[e].wind_degree+180,"deg)"),color:"blue"},children:Object(j.jsx)("i",{className:"las la-arrow-up",style:{fontSize:"50px"}})})},e)}))}),Object(j.jsx)("div",{className:"d-flex justify-content-end mt-3",children:Object(j.jsx)(fe.a,{to:"/".concat(s,"/more/").concat(a),className:"align-self-end",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})})]})},He=function(e){var t=e.day,n=["6","12","18","23"];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around my-2",children:Object(j.jsx)("div",{children:Object(j.jsx)("u",{children:Object(j.jsx)("b",{children:Object(De.a)(t.date,"dd.mm.yyyy")})})})}),Object(j.jsxs)("div",{className:"d-flex flex-row justify-content-around",children:[Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:"\u0423\u0442\u0440\u043e"})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:"\u0414\u0435\u043d\u044c"})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:"\u0412\u0435\u0447\u0435\u0440"})}),Object(j.jsx)("div",{children:Object(j.jsx)("span",{children:"\u041d\u043e\u0447\u044c"})})]}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:t.hour[e].condition.icon,alt:"".concat(t.hour[e].condition.text),srcSet:""})},e)}))}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("h5",{className:"bg-primary rounded p-1 text-dark bg-opacity-10 text-center",children:[t.hour[e].temp_c>0?"+":"",Math.round(t.hour[e].temp_c),"\u2103"]})},e)}))}),Object(j.jsx)("h5",{className:"text-center my-3",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430, \u043c/\u0441"}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:Math.round(t.hour[e].wind_kph/3.6)})},e)}))}),Object(j.jsx)("div",{className:"d-flex  flex-row justify-content-around",children:n.map((function(e){return Object(j.jsx)("div",{style:{transform:"rotate(".concat(t.hour[e].wind_degree+180,"deg)"),color:"blue"},children:Object(j.jsx)("i",{className:"las la-arrow-up",style:{fontSize:"50px"}})},e)}))})]})},Ke=function(){var e=Object(h.c)((function(e){return e.weather.entities})).forecast;return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-4",children:Object(j.jsx)(He,{day:e.forecastday[0]})}),Object(j.jsx)("div",{className:"col-4 border-start",children:Object(j.jsx)(He,{day:e.forecastday[1]})}),Object(j.jsx)("div",{className:"col-4 border-start",children:Object(j.jsx)(He,{day:e.forecastday[2]})})]})},Je=function(e){var t=e.day,n=e.id,r=e.active,a=e.forecast;return Object(j.jsx)("div",{className:"tab-pane fade show ".concat(r),id:n,role:"tabpanel","aria-labelledby":"".concat(n,"-tab"),children:Object(j.jsx)("div",{className:"row mt-2",children:a?Object(j.jsx)(Ke,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"col-4",children:[Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsxs)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 w-50 text-center",children:[(t.day.maxtemp_c-t.day.mintemp_c)/2>0?"+":"-",Math.round((t.day.maxtemp_c-t.day.mintemp_c)/2),"\u2103"]}),Object(j.jsx)("img",{src:t.day.condition.icon,alt:"\u041f\u0430\u0441\u043c\u0443\u0440\u043d\u043e"}),Object(j.jsx)("p",{className:"align-self-end text-secondary",children:t.day.condition.text})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsx)("p",{children:"\u041f\u043e \u043e\u0449\u0443\u0449\u0435\u043d\u0438\u044e"}),Object(j.jsxs)("span",{children:[t.hour[12].feelslike_c>0?"+":"",Math.round(t.hour[12].feelslike_c),"\u2103"]})]}),Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsx)("p",{children:"\u0412\u0435\u0442\u0435\u0440"}),Object(j.jsxs)("span",{children:[Math.round(t.hour[12].wind_kph/3.6),' \u043c/\u0441, "',{N:"\u0421",NNE:"\u0421\u0412",NE:"\u0421\u0412",ENE:"\u0412",E:"\u0412",ESE:"\u042e\u0412",SE:"\u042e\u0412",SSE:"\u042e",S:"\u042e",SSW:"\u042e\u0417",SW:"\u042e\u0417",WSW:"\u0417",W:"\u0417",WNW:"\u0421\u0417",NW:"\u0421\u0417",NNW:"\u0421"}[t.hour[12].wind_dir],'"']})]}),Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsx)("p",{children:"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435"}),Object(j.jsxs)("span",{children:[Math.round(t.hour[12].pressure_mb/1.333)," \u043c\u043c.\u0440\u0442.\u0441\u0442."]})]}),Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsx)("p",{children:"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsxs)("span",{children:[t.hour[12].humidity,"%"]})]}),Object(j.jsxs)("div",{className:"mt-2 d-flex flex-row justify-content-between",children:[Object(j.jsx)("p",{children:"\u041e\u0431\u043b\u0430\u0447\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsxs)("span",{children:[t.hour[12].cloud,"%"]})]})]}),Object(j.jsx)(ze,{day:t})]})})})},Ve=function(e){var t=e.city,n=e.location,r=e.forecast;if(Object(h.c)((function(e){return e.weather.isLoading})))return"Loading...";var a=r.forecastday[0],c=r.forecastday[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"col-8 w-500",children:Object(j.jsxs)("div",{className:"p-3 border bg-light",children:[Object(j.jsx)(Me,{city:t,date:n.localtime}),Object(j.jsx)(We,{}),Object(j.jsxs)("div",{className:"tab-content",id:"nav-tabContent",children:[Object(j.jsx)(Je,{id:"today",day:a,active:"active"}),Object(j.jsx)(Je,{id:"tomorrow",day:c}),Object(j.jsx)(Je,{id:"forcast",forecast:r.forecastday})]})]})})})};function $e(e){var t=Number(e.match(/^(\d+)/)[1]),n=Number(e.match(/:(\d+)/)[1]),r=e.match(/\s(.*)$/)[1];"PM"===r&&t<12&&(t+=12),"AM"===r&&12===t&&(t-=12);var a=t.toString(),c=n.toString();return t<10&&(a="0"+a),n<10&&(c="0"+c),a+":"+c}var Ge=function(e){var t=e.forecast;if(Object(h.c)((function(e){return e.weather.isLoading})))return"Loading...";var n=t.forecastday[0],r=!(!n.astro.moonset.includes("AM")&&!n.astro.moonset.includes("PM")),a=!(!n.astro.moonrise.includes("AM")&&!n.astro.moonrise.includes("PM"));return Object(j.jsx)("div",{className:"col-4 d-flex flex-column w-500",children:Object(j.jsxs)("div",{className:"sp-3 border bg-light p-3",children:[Object(j.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-2",children:[Object(j.jsx)("img",{src:"img/sunrise.ico",alt:""}),Object(j.jsx)("b",{className:"align-self-center",children:"\u0412\u043e\u0441\u0445\u043e\u0434"}),Object(j.jsx)("h5",{children:$e(n.astro.sunrise)})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between p-2",children:[Object(j.jsx)("img",{src:"img/sunset.ico",alt:""}),Object(j.jsx)("b",{className:"align-self-center",children:"\u0417\u0430\u043a\u0430\u0442"}),Object(j.jsx)("h5",{children:$e(n.astro.sunset)})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between p-2",children:[Object(j.jsx)("img",{src:"img/moonrise.png",alt:""}),Object(j.jsx)("b",{className:"align-self-center",children:"\u0412\u043e\u0441\u0445\u043e\u0434 \u041b\u0443\u043d\u044b"}),Object(j.jsx)("h5",{children:a?$e(n.astro.moonrise):"\u041d\u0435\u0442"})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between p-2",children:[Object(j.jsx)("img",{src:"img/moonset.png",alt:""}),Object(j.jsx)("b",{className:"align-self-center",children:"\u0417\u0430\u0445\u043e\u0434 \u041b\u0443\u043d\u044b"}),Object(j.jsx)("h5",{children:r?$e(n.astro.moonset):"\u041d\u0435\u0442"})]}),Object(j.jsx)("hr",{className:"my-4"}),Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between p-2",children:[Object(j.jsx)("img",{src:"".concat(window.location.origin,"/img/").concat(n.astro.moon_phase,".png"),width:"64px",height:"64px",alt:""}),Object(j.jsx)("h5",{children:{"New Moon":"\u041d\u043e\u0432\u043e\u043b\u0443\u043d\u0438\u0435","Waxing Crescent":"\u0420\u0430\u0441\u0442\u0443\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446","First Quarter":"\u041f\u0435\u0440\u0432\u0430\u044f \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u044c","Waxing Gibbous":"\u0420\u0430\u0441\u0442\u0443\u0449\u0430\u044f \u041b\u0443\u043d\u0430","Full Moon":"\u041f\u043e\u043b\u043d\u043e\u043b\u0443\u043d\u0438\u0435","Waning Gibbous":"\u0423\u0431\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u041b\u0443\u043d\u0430","Last Quarter":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u044c","Waning Crescent":"\u0423\u0431\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"}[n.astro.moon_phase]})]}),Object(j.jsxs)("div",{className:"d-flex align-items-center flex-row justify-content-between p-2",children:[Object(j.jsx)("b",{className:"align-self-center",children:"\u041e\u0441\u0432\u0435\u0449\u0451\u043d\u043d\u043e\u0441\u0442\u044c"}),Object(j.jsxs)("h5",{children:[n.astro.moon_illumination,"%"]})]})]})})},Qe=function(e){var t=e.city,n=(e.location,e.forecast,e.day),r=["0","3","6","9","12","15","18","21"];if(Object(h.c)((function(e){return e.weather.isLoading})))return"Loading...";var a=n.hour;return Object(j.jsx)("div",{className:"col",children:Object(j.jsxs)("div",{className:"p-3 border bg-light",children:[Object(j.jsx)(Me,{city:t,date:n.date}),Object(j.jsx)("div",{className:"d-flex mb-3 flex-row justify-content-around",children:r.map((function(e){return Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:e<10?"0".concat(e):e}),Object(j.jsx)("sup",{children:"00"})]},e)}))}),Object(j.jsx)("div",{className:"d-flex mb-3 flex-row justify-content-around",children:r.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:"".concat(a[e].condition.icon),alt:"".concat(a[e].condition.text),srcSet:""})},e)}))}),Object(j.jsx)("div",{className:"d-flex mb-3 flex-row justify-content-around",children:r.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsxs)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:[a[e].temp_c>0?"+":"",a[e].temp_c,"\u2103"]})},e)}))}),Object(j.jsx)("h5",{className:"text-center mb-3 mt-2",children:"\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a"}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around mb-3",children:r.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:Math.round(a[e].feelslike_c)})},e)}))}),Object(j.jsx)("h5",{className:"text-center mt-2 mb-3",children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430, \u043c/\u0441"}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around mb-3",children:r.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h4",{className:"bg-primary rounded p-2 text-dark bg-opacity-10 text-center",children:Math.round(a[e].wind_kph/3.6)})},e)}))}),Object(j.jsx)("div",{className:"d-flex flex-row justify-content-around mb-3",children:r.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{style:{transform:"rotate(".concat(a[e].wind_degree+180,"deg)"),color:"blue"},children:Object(j.jsx)("i",{className:"las la-arrow-up",style:{fontSize:"50px"}})})},e)}))}),Object(j.jsx)("div",{className:"d-flex justify-content-end mt-3 mb-3",children:Object(j.jsx)("button",{className:"btn btn-primary",onClick:function(){z.goBack()},children:"\u041d\u0430\u0437\u0430\u0434"})})]})})},Xe=function(){var e=Ue().city,t=Object(i.h)(),n=t.more,r=t.day,a=Object(h.c)((function(e){return e.weather.error})),c=Object(h.c)((function(e){return e.weather.entities})),s=Object(h.c)((function(e){return e.weather.isLoading})),o=Object(h.b)();if(a)return Object(j.jsx)("h1",{children:"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"});if(s)return"Loading...";var l=c.location,u=c.forecast,d=Object(w.isNull)(L())?[]:L().split(",").reverse();return Object(j.jsxs)("div",{className:"overflow-hidden my-5",children:[Object(j.jsx)("div",{className:"row gx-3",children:n?Object(j.jsx)(Qe,{city:e,location:l,forecast:u,day:"today"===r?u.forecastday[0]:u.forecastday[1]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Ve,{city:e,location:l,forecast:u}),Object(j.jsx)(Ge,{forecast:u})]})}),Object(j.jsx)("div",{className:"row mt-3",children:d.length>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h3",{children:Object(j.jsx)("p",{children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432"})}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("ul",{className:"list-group list-group-horizontal list-group-flush",children:d.map((function(t){return Object(j.jsx)("li",{children:Object(j.jsx)(fe.a,{to:"/".concat(t),onClick:function(){return o(Fe(e=t)),R.setCityToHistory(e),void z.push("/".concat(e));var e},className:"text-center list-group-item  mx-2 ".concat(e===t?"active":""),children:t})},t)}))})})]})})]})},Ye=["component","children"];var Ze=function(e){var t=e.component,n=e.children,r=Object(ue.a)(e,Ye),a=Object(h.c)((function(e){return e.users.isLoggedIn}));return Object(j.jsx)(i.b,Object(l.a)(Object(l.a)({},r),{},{render:function(e){return a?t?Object(j.jsx)(t,Object(l.a)({},e)):n:Object(j.jsx)(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},et=function(){var e=Object(h.b)();return Object(r.useEffect)((function(){e((function(e){R.removeAuthData(),e(Z()),z.push("/")}))}),[]),Object(j.jsx)("h1",{children:"Loading"})},tt=function(e){var t=e.children,n=Object(h.b)(),a=Object(h.c)((function(e){return e.users.isLoggedIn})),c=Object(h.c)((function(e){return e.users.isLoading}));return Object(r.useEffect)((function(){a&&n(ae())}),[a]),Object(r.useEffect)((function(){n(function(){var e=Object(x.a)(p.a.mark((function e(t,n){var r,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().weather.lastFetch,!de(r)){e.next=15;break}return t(Ee()),e.prev=3,e.next=6,Ie.getAll();case 6:a=e.sent,t(qe(a)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0.message),F.b.error(e.t0),t(Te(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}())}),[]),c?"Loading...":t};tt.propTypes={children:xe.a.oneOfType([xe.a.arrayOf(xe.a.node),xe.a.node])};var nt=tt;var rt=function(){var e=Object(h.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null})),t=Object(r.useState)(!1),n=Object(u.a)(t,2),a=n[0],c=n[1];return e?Object(j.jsxs)("div",{className:"dropdown",onClick:function(){c((function(e){return!e}))},children:[Object(j.jsxs)("div",{className:"btn text-white  dropdown-toggle d-flex align-items-center",children:[Object(j.jsx)("div",{className:"me-2",children:e.name}),Object(j.jsx)("img",{src:e.image,alt:"",height:"40",className:"img-responsive rounded-circle"})]}),Object(j.jsxs)("div",{className:"w-100 dropdown-menu"+(a?" show":""),children:[Object(j.jsx)(fe.a,{to:"/favorites",className:"dropdown-item",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),Object(j.jsx)(fe.a,{to:"/users/".concat(e._id,"/edit"),className:"dropdown-item",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(j.jsx)(fe.a,{to:"/logout",className:"dropdown-item",children:"\u0412\u044b\u0445\u043e\u0434"})]})]}):"Loading..."},at=(n(85),n(49)),ct=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.users.isLoggedIn})),n=Object(r.useRef)();return Object(j.jsx)("nav",{className:"navbar navbar-dark bg-primary rounded",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(fe.a,{className:"navbar-brand",to:"/",onClick:function(){n.current&&n.current.setInputValue(""),e(Fe("\u041c\u043e\u0441\u043a\u0432\u0430")),z.push("/")},children:"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043f\u043e\u0433\u043e\u0434\u044b"}),Object(j.jsx)("div",{className:"w-50",children:Object(j.jsx)(at.a,{token:"".concat(C.dadata_api_key),onChange:function(t){!function(t){var n,r,a;e(Fe(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.city)),R.setCityToHistory(null===t||void 0===t||null===(r=t.data)||void 0===r?void 0:r.city),z.push(null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.city)}(t)},inputProps:{placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"},minChars:3,ref:n})}),Object(j.jsx)("div",{className:"d-flex",children:t?Object(j.jsx)(rt,{}):Object(j.jsxs)(fe.a,{className:"nav-link text-white","aria-current":"page",to:"/login",children:[Object(j.jsx)("i",{className:"las la-user",style:{fontSize:"24px"}}),Object(j.jsx)("u",{children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})]})})},st=function(){var e=Object(h.c)((function(e){return e.users.entities?e.users.entities.find((function(t){return t._id===e.users.auth.userId})):null}));return Object(j.jsx)("div",{className:"overflow-hidden my-5",children:Object(j.jsx)("div",{className:"row gx-3",children:Object(j.jsxs)("div",{className:"col ",children:[Object(j.jsx)("div",{className:"p-3 border bg-light",children:Object(j.jsx)("h2",{className:"mb-3 text-center ",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435 "})}),Object(j.jsx)("div",{className:"p-3 mt-3 border bg-light",children:Object(j.jsx)("div",{className:"row",children:Object(j.jsx)("div",{className:"col d-flex flex-wrap flex-row",children:e.favorites.map((function(e){return Object(j.jsx)("div",{className:"card col-3 mt-2",children:Object(j.jsxs)("div",{className:"card-body d-flex flex-column align-items-center ",children:[Object(j.jsx)("h4",{className:"card-title mb-5 fs-5",children:e}),Object(j.jsx)("a",{href:"/".concat(e),className:"btn btn-primary w-100",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"})]})},e)}))})})})]})})})};var it=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)(nt,{children:Object(j.jsx)(Be,{children:Object(j.jsxs)("div",{className:"container mt-3",children:[Object(j.jsx)(ct,{}),Object(j.jsxs)(i.d,{children:[Object(j.jsx)(Ze,{path:"/users/:userId?/:edit?",component:ve}),Object(j.jsx)(i.b,{path:"/login/:type?",component:we}),Object(j.jsx)(i.b,{path:"/logout",component:et}),Object(j.jsx)(i.b,{path:"/favorites",exact:!0,component:st}),Object(j.jsx)(i.b,{path:"/:city?/:more?/:day?",exact:!0,component:Xe}),Object(j.jsx)(i.a,{to:"/"})]})]})})}),Object(j.jsx)(F.a,{})]})},ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},lt=n(18),ut=Object(lt.b)({weather:Ae,users:se});var dt=Object(v.a)({reducer:ut});s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h.a,{store:dt,children:Object(j.jsx)(i.c,{history:z,children:Object(j.jsx)(it,{})})})}),document.getElementById("root")),ot()}},[[86,1,2]]]);
//# sourceMappingURL=main.005c1c69.chunk.js.map